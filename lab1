#include <stdio.h>
#include <stdlib.h>
#define MAX 60

struct student{
    int br;
    char ime[128];
    char prez[128];
};

int main()
{
    float *rl;
    struct student *stud;
    FILE*fp=NULL;
    int br=0,i;
    fp=fopen("studenti.txt","r");
    if(fp==NULL){
        printf("greska pri otvaranju");
        exit(1);
    }
    while(!feof(fp))
        if(fgetc(fp)=='\n') br++;
    printf("broj studeneta:%d\n",br);
    stud=(struct student*)malloc(br*sizeof(struct student));
    rewind(fp);
    rl=(float*)malloc(br*sizeof(float));
    for(i=0;i<br;i++){
        fscanf(fp,"%d \t%s\t %s",&stud[i].br,stud[i].ime,stud[i].prez);
        rl[i]=((float)stud[i].br/50.0)*100.0;
    }
    for(i=0;i<br;i++){
        printf("%d \t%s\t %s \t %.2f\n",stud[i].br,stud[i].ime,stud[i].prez,rl[i]);
    }
    fclose(fp);
    return 0;
}
